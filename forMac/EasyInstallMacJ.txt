KETCindyの簡単インストール（Mac）　　　修正日：2018.11.25

１) Cinderella, R, Maxima をインストールする． 
 　　　　　　   ・ https://beta.cinderella.de  (Cinderella)
 　　　　　 　  ・ https://cran.r-project.org   (R)
 　　　　　   　・ https://sourceforge.net/projects/maxima　( Maxima )
 
２) TeXをインストールする．

　 (1) TeXLiveを推奨
 　　　　　　　　　・２０１８以降ではketcindyが既に入っている、
  　　　　　　　　　・大きいので，多少時間がかかる．
 　(2) KeTTeXはTeXLiveの軽量版
　　　　　　　　　　・仮想ディスクkettexnormalを開き，kettexをApplicationsに入れればよい．
　 (3) 他のTeXを使っている場合
　　　　　　　　　　・　setcindy.commandwをデスクトップにコピー
 　　　　　　　  ・ テキストエディタでパスを修正する．

3) KeTCindyのインストール

　　（1） setketcindy.commandをダブルクリック（管理者権限必要）
　　　　    ・scriptsの内容が選択したTeXの中にコピーされる
　　　　    ・ketcindyのstyleファイルがTeXにコピーされmktexlsrが実行される．
　　　　    ・CinderellaのPluginsにKetcindyPlugin.jarがコピーされ，　ketcindy.iniが作成される．

　　（２） setwork.commandをダブルクリック（管理者権限不要）
　　　　    ・作業ディレクトリketcindyがユーザホームに作成される．
　　　　    ・タイプセットの方法（TeXの種類）
　　　　　   　　 　　通常は，platex (p)またはuplatex(u)を選ぶ．
　    　　　・ketcindyフォルダにworkフォルダの中身がコピーされる．
　　　　    ・.ketcindy.conf（不可視ファイルだが編集可能）がketcindyフォルダに作成される．
      　　　　　　　注）TeXを切り替えるときなどはこのファイルを修正する．
　　　    　・マニュアルもコピーされる．
　　　    　・作業ディレクトリにketincy.confの雛形がコピーされる．
　    　　　・KeTCindyを立ち上げたとき，設定ファイルは次の順に読み込まれる．
　　　　　    　1) ketoutset.txt
　　　　　　    ２）　ユーザホームの .ketcindy.conf
　　　　　　    3)　作業ディレクトリketcindyの ketcindy.conf

４）KeTCindyのテストラン

　　（１）作業ディレクトリの中のtemplate1basic.cdyを選び，「情報を見る」を開く．
　　　　　   ・アプリケーションが所定のCinderella2になっていることを確かめる．
　　　　　   ・「情報」を閉じて，template1basic.cdyをダブルクリックする．
　　　　   　・画面に白い枠が出れば，ライブラリの読み込みは成功．
　
　　（２）スクリーンの左上部にあるFigureボタンを押してPDFが表示されれば成功．

　　注）PDFの表示後，ターミナル画面を閉じるようにするには：
　　　　　   ・アプリケーション／ユーティリティ／ターミナルを開く
　　　　　   ・トップメニューから
　　　　　　　　ターミナル＞環境設定＞（プロファイル）>シェル
　　　　　　　　　「シェルが正常に終了した場合閉じる」を選択

５）　TeXworksの設定（kettexnormalの場合）
　　　　　   ・TeXworksを立ち上げる
　　    　　・次を選択
　　　　      　　　　TeXworks > 環境設定 > タイプセット
　   　　　　・上の欄（パス）に以下を追加
                            /Applications/kettex/texlive/bin/x86_64-darwin
　　　　　　　注）上の行を上の欄の先頭になるように移動する．
 　  　　　　・下の欄の横にある + をクリック
　　　　　　　　名前：uplatex(ptex2pdf)またはplatex(ptex2pdf)
　　　　　　　　プログラム : ptex2pdf
　　　　　　　　引数：
                                 -u　　（uplatexの場合のみ）
                                 -l
                                 -ot
                                 $synctexoption
                                 $fullname
　　　　　　OKボタンを押し，デフォルトを変更してOKボタンを押す．

6) gccのインストール
　　　　　　・曲面描画のためには, gccが必要である．
　　　　　　・Xcodeがインストールされていなければ，インストールする．
　　　　　　　　　注）ターミナルで次を実行すれば，gccだけがインストールされる．
　　　　　　　　　　　　　　　sudo xcode-select --install
