\documentclass{ujarticle}
\usepackage{ketpic,ketlayer}
\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{bm,enumerate}
\usepackage[dvipdfmx,colorlinks=true,urlcolor=blue]{hyperref}

\setmargin{20}{20}{20}{20}

\西暦

\renewcommand{\labelitemi}{・}
\renewcommand{\labelitemii}{・}

\begin{document}

\begin{center}
KETCindyのインストール (Mac)
\end{center}

\hfill 修正日：\today

\begin{enumerate}[\bf\large 1.]
\item Cinderella, R, Maxima をインストールする．
 \begin{itemize}
 \item \url{https://beta.cinderella.de}  (Cinderella)\\
\hspace*{1zw}・解凍してできるCinderella2(.app)を /アプリケーションに{\bf 移動}する．\\
\hspace*{2zw}注）ketcindy(-master)/forMacにある Applicationsにドラグドロップしてもよい．
 \item \url{https://cran.r-project.org}   (R)\\
\hspace*{1zw}・ダブルクリックして，起動するかを確認する．
 \item \url{https://sourceforge.net/projects/maxima/files}  (Maxima)%\\
%\hspace*{1zw}・v5.38.0以前の方がv5.40.0以降より軽い．
 \end{itemize}
 
\item TeXをインストールしていない場合はインストールする．
 \begin{enumerate}[(1)]
 \item TeXLiveを推奨
    \begin{itemize}
    \item ２０１８以降ではketcindyが既に入っている.
    \end{itemize}
 \item KeTTeXはTeXLiveの軽量版
    \begin{itemize}
    \item kettex.dmgを以下からダウンロードできる．\\
    \hspace*{10mm}\url{https://www.dropbox.com/s/dc4inuk06t07g26/kettex.dmg?dl=0}
    \item ダブルクリックしてできるkettexを\verb|/Applications|に入れる．
    \end{itemize}
 \item 他のTeXの場合は，{\bf 3.}(2)を参照する．
 \end{enumerate}

\item KeTCindyのインストール
  \begin{enumerate}[(1)]
  \item ketcindyをCTAN(\url{https://ctan.org})からダウンロードする．\\
  \hspace*{10mm}ketcindyで検索 \verb|>| Package ketcindy \verb|>| download
    \begin{itemize}
    \item[注)]最新版は，Repositoryのサイト\\
        \hspace*{10mm}\url{https://github.com/ket­pic/ketcindy}\\
       から以下のようにダウンロードできる．\\
        \hspace*{10mm}Clone or download \verb|>| Download ZIP
    \item[注)]この場合は，ketcindy-masterになる．
    \item[注)] フォルダ名がketcindy-master 2などになっていたら，スペースをとる．
    \item[注)] すべて手動でインストールするときは，{\bf 7}に従って行う．
    \end{itemize}
  \item ketcindy(-master)/forMacを開く．
    \begin{itemize}
    \item[注)]他のTeXを使っている場合
      \begin{itemize}
      \item setketcindy.commandをテキストエディタで開く．
      \item パスを修正する．
      \end{itemize}
    \end{itemize}
  \item setketcindy.commandをダブルクリック
    \begin{itemize}
    \item[注)]管理者権限が必要となる．
    \item[注)]開かないときはControl+クリックでターミナルを選ぶ．
    \item[注)]ダブルクリックで「開くか」を表示させるには，ターミナルで以下を実行しておく．\\
    \hspace*{20mm}\verb|sudo spctl --master-disable|
    \end{itemize}
    \begin{itemize}
    \item scriptsの中身がTeXにコピーされる
    \item ketcindyのstyleファイルがTeXにコピーされmktexlsrが実行される．
    \item CinderellaのPluginsにKetcindyPlugin.jarがコピーされる．
    \item Pluginsにketcindy.iniが作成される（新規または再作成の場合）
    \item タイプセットの方法（TeXの種類）\\
    \hspace*{10mm}通常は，platex (p)またはuplatex(u)を選ぶ．
  \end{itemize}
  \item setwork.commandをダブルクリック
    \begin{itemize}
    \item[注)]開かないときはControl+クリックでターミナルを選ぶ．
    \end{itemize}
    \begin{itemize}
    \item 作業ディレクトリketcindyがユーザホームに作成される．
    \item ketcindyフォルダにworkフォルダの中身がコピーされる．
    \item \verb|.ketcindy.conf|（不可視ファイルだが編集可能）がユーザホームに作成される．\\
    \hspace*{10mm}注）TeXを切り替えるときなどはこのファイルを修正する．
    \item マニュアルもコピーされる．
    \item 作業ディレクトリにketincy.confの雛形がコピーされる．
    \item KeTCindyを立ち上げたとき，設定ファイルは次の順に読み込まれる．
      \begin{enumerate}[1)]
      \item ketoutset.txt
      \item ユーザホームの\verb|.ketcindy.conf|
      \item 作業ディレクトリketcindyの ketcindy.conf
      \end{enumerate}
    \end{itemize}
  \end{enumerate}
  \item KeTCindyのテストラン
    \begin{enumerate}[(1)]
    \item 作業ディレクトリketcindyを開く．
    \item ketcindyの中のtemplate1basic.cdyを選び，「情報を見る」を開く．
      \begin{itemize}
      \item アプリケーションが所定のCinderella2になっていることを確かめる．
      \item「情報」を閉じて，template1basic.cdyをダブルクリックする．
      \item 画面に白い枠が出れば，ライブラリの読み込みは成功．
      \end{itemize}
    \item スクリーンの左上部にあるFigureボタンを押して，PDFが表示されれば成功．
     \begin{itemize}
     \item[注)]PDFの表示後，ターミナル画面を閉じるようにするには
       \begin{itemize}
        \item アプリケーション \verb|/| ユーティリティ \verb|/| ターミナルを開く
        \item トップメニューから\\
          \hspace*{5mm}ターミナル＞環境設定 \verb|>|（プロファイル）\verb|>| シェル\\
          \hspace*{10mm}「シェルが正常に終了した場合閉じる」を選択
        \end{itemize}
    \item[注)]インストール用のketcindy(-master)フォルダは削除した方が混乱しない．
     \end{itemize} 
  \end{enumerate}

\item TeXworksの設定（kettexの場合）
  \begin{itemize}
  \item \url{https://github.com/TeXworks/texworks/releases/} からダウンロードできる．\\
\hspace*{10mm}注）KeTTeXの場合，TeXworksのバージョンは 0.6.2の方がよい．
  \item TeXworksを立ち上げ，「TeXworks \verb|>| 環境設定 \verb|>| タイプセット」
  \item 上の欄（パス）に以下を追加\\
  \hspace*{5mm}\verb|/Applications/kettex/texlive/bin/x86_64-darwin|\\
  \hspace*{10mm}注) 上の行を上の欄の先頭になるように移動する．
  \item 下の欄の横にある + をクリック
    \begin{itemize}
    \item 名前：uplatex(ptex2pdf)またはplatex(ptex2pdf)
    \item プログラム : ptex2pdf
    \item 引数：\\
    \hspace*{10mm} \verb|-u|（uplatexの場合のみ）\\
    \hspace*{10mm} \verb|-l|\\
    \hspace*{10mm} \verb|-ot|\\
    \hspace*{10mm}  \verb|$synctexoption|\\
    \hspace*{10mm}  \verb|$fullname|
    \item[]OKボタンを押し，デフォルトを変更してOKボタンを押す．
    \end{itemize}
  \end{itemize}

\item TeXShopの設定（kettexの場合）
  \begin{itemize}
  \item \verb|/Applications/TeX/TexShop.app|がなければ，以下からダウンロードする．\\
  \hspace*{5mm}\url{https://pages.uoregon.edu/koch/texshop/obtaining.html}
  \item TeXShopを立ち上げ，「TeXShop \verb|>| 環境設定 |」
  \item 「書類\verb|>|設定プロファイル」　ptex(ptex2pdf)かuptex(uptex2pdf)を選ぶ
  \item 「内部設定\verb|>|パス設定」\verb|/Applications/kettex/texlive/bin/x86_64-darwin|を入れる．
  \end{itemize}

\item gccのインストール
  \begin{itemize}
    \item 曲面描画のためには, gccが必要である．
    \item Xcodeがインストールされていなければ，インストールする．\\
    \hspace*{5mm}注) ターミナルで次を実行すれば，gccだけがインストールされる．\\
    \hspace*{20mm}\verb|sudo xcode-select --install|
  \end{itemize}

\item 手動でインストールする場合（KeTTeX）\\
\hspace*{1zw}注）他のTeXの場合は，適宜パスを置き換える．\\
\hspace*{3zw}\verb|/Applications/kettex/texlive| $=>$ \verb|/Library/TeX/Root| など
  \begin{enumerate}[(1)]
  \item ketcindy(-master)/ketcindyfolderを開いておく．
  \item scriptsフォルダの中身を以下にコピーする．\\
　\verb|/Applications/kettex/texlive/texmf-dist/scripts/ketcindy|
  \item styleフォルダの中身を以下にコピーする．\\
　\verb|/Applications/kettex/texlive/texmf-dist/tex/latex/ketcindy|
  \item ターミナルで以下を実行する\\
  \hspace*{1zw}\verb|sudo /Applications/kettex/texlive/bin/x86_64-darwin/mktexlsr|
  \item /Applications/Cinderella2(.app)をダブルクリック
  \item メニューから　「スクリプト」＞「プラグインを開く」を選び，Pluginsフォルダを開く．
  \item scripts/ketjava/KetCindyPlugin.jarをPluginsにコピーする．
  \item ketcindy(-master)/forMac/Forsettingmanually/ketcindy.iniをPluginsにコピーする．\\
  \hspace*{2zw}注）他のTeX の場合は，ketcindy.iniをテキストエディタで開いて修正する．
  \item Puginsを閉じ，Cinderella2を終了する．
  \item workを適当な場所にコピーして，名前を変更する．\\
\hspace*{2zw}注）標準は　パス：ユーザーホーム（の直下）　名前：ketcindy
  \item 上の作業ディレクトリ(ketcindy)に doc/ketmanual のマニュアルをコピーする．
  \item forMacにある ketcindy.conf をテキストエディタで開き，適宜修正する．
  \item ターミナルで以下を実行する．\\
  \hspace*{1zw}\verb|cp (forMacのパス)/ketcindy.conf ~/.ketcindy.conf|
  \end{enumerate}

\item その他
\begin{enumerate}[(1)]
\item ダウンロードしたアプリケーションの実行を有効にする方法\\
　　ターミナルで\\
　　　    sudo spctl --master-disable\\
　　を実行（一度実行すればすべての場合に有効である）
 \end{enumerate}

\end{enumerate}

\end{document}