KETCindyの簡単インストール（Windows）　　　修正日：2018.11.27

１) Cinderella, R, Maxima, Sumatra をインストールする． 
 　・ https://beta.cinderella.de  (Cinderella)
 　・ https://cran.r-project.org  (R)
   ・ https://sourceforge.net/projects/maxima (Maxima)
   ・ https://www.sumatrapdfreader.org/download-free-pdf-viewer.html (Sumatra)

２) TeXをインストールする．

　 (1) TeXLiveを推奨
        ・２０１８以降ではketcindyが既に入っている、
        ・大きいので，多少時間がかかる．
 　(2) KeTTeXはTeXLiveの軽量版
        ・kettexnormalを解凍してkettexをC:\に入れればよい．
　 (3) 他のTeXを使っている場合
　　　　・setketcindy.batをテキストエディタで開く．
　　　　・パスを修正する．

３) KeTCindyのインストール

　　（1）setketcind.batを右クリック、「管理者として実行」を選択
　　　　  ・scriptsの内容が選択したTeXの中にコピーされる
　　　　  ・ketcindyのstyleファイルがTeXにコピーされmktexlsrが実行される．
　　　　  ・CinderellaのPluginsにKetcindyPlugin.jarがコピーされる．
　　　　　　また、ketcindy.iniが作成される．

　　（２）setwork.batをクリック
　　　　    ・作業ディレクトリketcindyがユーザホームに作成される．
　　　　    ・タイプセットの方法（TeXの種類）
　　　　　   　　通常は，platex (p)またはuplatex(u)を選ぶ．
　    　　　・ketcindyフォルダにworkフォルダの中身がコピーされる．
　　　　    ・.ketcindy.confがユーザホームに作成される．
      　　　　　注）TeXを切り替えるときなどはこのファイルを修正する．
　　　    　・マニュアルもコピーされる．
　　　    　・作業ディレクトリにketincy.confの雛形がコピーされる．
　    　　　・KeTCindyを立ち上げたとき，設定ファイルは次の順に読み込まれる．
　　　　　    　1) ketoutset.txt
                2）ユーザホームの .ketcindy.conf
　　　　　　    3）作業ディレクトリketcindyの ketcindy.conf

４）KeTCindyのテストラン

　　（１）作業ディレクトリの中のtemplate1basic.cdyを選び，「情報を見る」を開く．
　　　　　   ・アプリケーションが所定のCinderella2になっていることを確かめる．
　　　　　   ・「情報」を閉じて，template1basic.cdyをダブルクリックする．
　　　　   　・画面に白い枠が出れば，ライブラリの読み込みは成功．
　
　　（２）スクリーンの左上部にあるFigureボタンを押してPDFが表示されれば成功．

　　注）PDFの表示後，ターミナル画面を閉じるようにするには：
　　　　　   ・アプリケーション／ユーティリティ／ターミナルを開く
　　　　　   ・トップメニューから
　　　　　　　　ターミナル＞環境設定＞（プロファイル）>シェル
　　　　　　　　　「シェルが正常に終了した場合閉じる」を選択

５）TeXworksの設定（kettexnormalの場合）
　　　　　   ・TeXworksを立ち上げる
　　    　　・次を選択
　　　　      　　　　TeXworks > 環境設定 > タイプセット
　   　　　　・上の欄（パス）に以下を追加
                            /Applications/kettex/texlive/bin/x86_64-darwin
　　　　　　　注）上の行を上の欄の先頭になるように移動する．
 　  　　　　・下の欄の横にある + をクリック
　　　　　　　　名前：uplatex(ptex2pdf)またはplatex(ptex2pdf)
　　　　　　　　プログラム : ptex2pdf
　　　　　　　　引数：
                                 -u　　（uplatexの場合のみ）
                                 -l
                                 -ot
                                 $synctexoption
                                 $fullname
　　　　　　OKボタンを押し，デフォルトを変更してOKボタンを押す．

６) gccのインストール
　　　・曲面描画のためには, gccが必要である．
　　　・minGWのホームページhttp://www.mingw.orgから
　　　　　download -> Install -> mingw-get-setup.exe
　　　　をダウンロードして実行
　　　　　注）パッケージは，mingw32-base, mingw32-gcc-g++だけでよい．
